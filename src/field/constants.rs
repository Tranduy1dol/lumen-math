use std::sync::OnceLock;

use crate::U1024;
use crate::field::montgomery::MontgomeryParams;

const P_HEX: &str = "CE6EA5DD0493C6624C9C46A40028DA8DA3806ED49484285FCF7EADB57DAFC72B208F713ED35A985798D6A7355AC37B178FF12C53B18BF607FE2B3C0F1C9043E77991FD00D889D6CBCA056F11DE9DF7D6D128AB0E5CE66F45CB916BD276235B46BD869AD0C0F159F1311C5D0DACE256DF2DA1E777ABDF69F072F3553D00000001";

const W_HEX: &str = "1D51F59721C38D3D48408329239882F49C5326F488D052C97E11C837FE04E79E1697A78F2AD3C4D7A7937DFDB2CD5E9146B7C23EAA626AEAD88C8DD9577AD3F6B21E34328BA550F5B488DA532323ABA51F3253D4D5510432095E2A57559BB6D5A28ADEDFAF36C9EE6560658AC1926B1C5544E9B534AEC34B8D9CCB77ACE9CC36";

static PARAMS: OnceLock<MontgomeryParams> = OnceLock::new();

pub fn get_params() -> &'static MontgomeryParams {
    PARAMS.get_or_init(|| {
        let modulus = U1024::from_hex(P_HEX);
        let root = U1024::from_hex(W_HEX);

        MontgomeryParams::new(modulus, root)
    })
}
